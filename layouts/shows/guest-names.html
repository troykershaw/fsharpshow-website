{{ $guests := .Params.guests }}
{{ $last := sub (len $guests) 1 }}
{{ range $index, $guest := $guests }}
  {{ if eq $index 0 }}
    {{ $guest }}
  {{ else if lt $index $last }}
    , {{ $guest }}
  {{ else }}
    and {{ $guest }}
  {{ end }}
{{ end }}
